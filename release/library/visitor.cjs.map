{"version":3,"sources":["../../source/library/visitor.cjs"],"names":[],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAM,OAAN,SAAsB,gBAAtB,CAAkC;AAEhC,EAAA,WAAW,CAAC,KAAD,EAAQ;AACjB,UAAM,KAAN;AACD;;AAEW,MAAR,QAAQ,GAAG;AACb,WAAO,CAAE,eAAF,CAAP;AACD;;AAED,EAAA,mBAAmB,CAAC,IAAD,EAAO,KAAP,EAAc;AAC/B;AAEA,QAAI,MAAM,GAAG,KAAK,CAAC,IAAnB;AACA,QAAI,IAAI,GAAG,MAAM,CAAC,IAAlB;AAEA,IAAA,IAAI,CAAC,OAAL,CAAc,IAAD,IAAU;AAErB,MAAA,IAAI,CAAC,gBAAL,GAAwB,IAAI,CAAC,gBAAL,GAAwB,IAAI,CAAC,gBAA7B,GAAgD,YAAG,MAAH,CAAU,IAAI,CAAC,SAAf,IAA4B,IAAI,CAAC,SAAjC,GAA6C,IAAI,MAAJ,CAAW,IAAI,CAAC,SAAhB,EAA2B,IAA3B,CAArH;AAEA,MAAA,IAAI,CAAC,IAAL,CAAU,KAAV,GAAkB,IAAI,CAAC,IAAL,CAAU,KAAV,CAAgB,OAAhB,CAAwB,IAAI,CAAC,gBAA7B,EAA+C,IAAI,CAAC,WAApD,CAAlB;AAED,KAND;AAQD;;AAxB+B,C,CA8BlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"visitor.cjs","sourcesContent":["import Is from '@pwn/is'\nimport { Visitor as BaseVisitor } from '@virtualpatterns/mablung-babel-plugin/visitor'\n\nclass Visitor extends BaseVisitor {\n\n  constructor(babel) {\n    super(babel)\n  }\n\n  get nodeType() {\n    return [ 'StringLiteral' ]\n  }\n\n  onStringLiteralNode(path, state) {\n    // console.log(`Visitor.onStringLiteralNode('${path.node.name}', state)`)\n\n    let option = state.opts\n    let rule = option.rule\n\n    rule.forEach((rule) => {\n\n      rule.searchForPattern = rule.searchForPattern ? rule.searchForPattern : Is.regexp(rule.searchFor) ? rule.searchFor : new RegExp(rule.searchFor, 'gi')\n\n      path.node.value = path.node.value.replace(rule.searchForPattern, rule.replaceWith)\n\n    })\n\n  }\n\n}\n\nexport { Visitor }\n\n// {\n//   'rule': [\n//     {\n//       'searchFor': '../error/replace-error.js',\n//       'replaceWith': '...',\n//     }\n//   ]\n// }      \n"]}